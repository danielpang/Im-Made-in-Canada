{"ast":null,"code":"var _jsxFileName = \"/Users/d_pang/projects/im-made-in-canada/react-ui/src/pages/EditItemPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Box, Heading, useToast, Breadcrumb, BreadcrumbItem, BreadcrumbLink, Center, Spinner, Text, Button } from '@chakra-ui/react';\nimport { Link, useParams, useNavigate } from 'react-router-dom';\nimport { ChevronRightIcon } from '@chakra-ui/icons';\nimport ItemForm from '../components/ItemForm';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditItemPage = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [item, setItem] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const toast = useToast();\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchItem = async () => {\n      try {\n        setLoading(true);\n        const response = await axios.get(`/api/items/${id}`);\n        setItem(response.data);\n      } catch (err) {\n        console.error('Error fetching item:', err);\n        setError('Failed to load item details. The item may have been removed or does not exist.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchItem();\n  }, [id]);\n  const handleSubmit = async formData => {\n    try {\n      await axios.put(`/api/items/${id}`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      navigate(`/item/${id}`);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error updating item:', error);\n      throw new Error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to update item');\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Center, {\n      h: \"400px\",\n      children: /*#__PURE__*/_jsxDEV(Spinner, {\n        thickness: \"4px\",\n        speed: \"0.65s\",\n        emptyColor: \"gray.200\",\n        color: \"red.500\",\n        size: \"xl\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this);\n  }\n  if (error || !item) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      textAlign: \"center\",\n      py: 10,\n      children: [/*#__PURE__*/_jsxDEV(Heading, {\n        mb: 4,\n        size: \"lg\",\n        children: \"Item Not Found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        fontSize: \"lg\",\n        color: \"gray.600\",\n        mb: 6,\n        children: error || \"This item does not exist or has been removed.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        as: Link,\n        to: \"/\",\n        colorScheme: \"red\",\n        children: \"Return to Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Breadcrumb, {\n      separator: /*#__PURE__*/_jsxDEV(ChevronRightIcon, {\n        color: \"gray.500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 20\n      }, this),\n      mb: 8,\n      children: [/*#__PURE__*/_jsxDEV(BreadcrumbItem, {\n        children: /*#__PURE__*/_jsxDEV(BreadcrumbLink, {\n          as: Link,\n          to: \"/\",\n          children: \"Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BreadcrumbItem, {\n        children: /*#__PURE__*/_jsxDEV(BreadcrumbLink, {\n          as: Link,\n          to: `/item/${id}`,\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BreadcrumbItem, {\n        isCurrentPage: true,\n        children: /*#__PURE__*/_jsxDEV(BreadcrumbLink, {\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Heading, {\n      mb: 6,\n      children: [\"Edit: \", item.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ItemForm, {\n      initialValues: item,\n      onSubmit: handleSubmit,\n      submitButtonText: \"Update Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n_s(EditItemPage, \"U7EtIWlo85o5xY10UK6Qq6Gfd84=\", false, function () {\n  return [useParams, useToast, useNavigate];\n});\n_c = EditItemPage;\nexport default EditItemPage;\nvar _c;\n$RefreshReg$(_c, \"EditItemPage\");","map":{"version":3,"names":["React","useState","useEffect","Box","Heading","useToast","Breadcrumb","BreadcrumbItem","BreadcrumbLink","Center","Spinner","Text","Button","Link","useParams","useNavigate","ChevronRightIcon","ItemForm","axios","jsxDEV","_jsxDEV","EditItemPage","_s","id","item","setItem","loading","setLoading","error","setError","toast","navigate","fetchItem","response","get","data","err","console","handleSubmit","formData","put","headers","_error$response","_error$response$data","Error","h","children","thickness","speed","emptyColor","color","size","fileName","_jsxFileName","lineNumber","columnNumber","textAlign","py","mb","fontSize","as","to","colorScheme","separator","name","isCurrentPage","initialValues","onSubmit","submitButtonText","_c","$RefreshReg$"],"sources":["/Users/d_pang/projects/im-made-in-canada/react-ui/src/pages/EditItemPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Box, \n  Heading,\n  useToast,\n  Breadcrumb,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  Center,\n  Spinner,\n  Text,\n  Button\n} from '@chakra-ui/react';\nimport { Link, useParams, useNavigate } from 'react-router-dom';\nimport { ChevronRightIcon } from '@chakra-ui/icons';\nimport ItemForm from '../components/ItemForm';\nimport axios from 'axios';\n\nconst EditItemPage = () => {\n  const { id } = useParams();\n  const [item, setItem] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const toast = useToast();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchItem = async () => {\n      try {\n        setLoading(true);\n        const response = await axios.get(`/api/items/${id}`);\n        setItem(response.data);\n      } catch (err) {\n        console.error('Error fetching item:', err);\n        setError('Failed to load item details. The item may have been removed or does not exist.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchItem();\n  }, [id]);\n\n  const handleSubmit = async (formData) => {\n    try {\n      await axios.put(`/api/items/${id}`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      \n      navigate(`/item/${id}`);\n    } catch (error) {\n      console.error('Error updating item:', error);\n      throw new Error(error.response?.data?.error || 'Failed to update item');\n    }\n  };\n\n  if (loading) {\n    return (\n      <Center h=\"400px\">\n        <Spinner \n          thickness=\"4px\"\n          speed=\"0.65s\"\n          emptyColor=\"gray.200\"\n          color=\"red.500\"\n          size=\"xl\"\n        />\n      </Center>\n    );\n  }\n\n  if (error || !item) {\n    return (\n      <Box textAlign=\"center\" py={10}>\n        <Heading mb={4} size=\"lg\">Item Not Found</Heading>\n        <Text fontSize=\"lg\" color=\"gray.600\" mb={6}>\n          {error || \"This item does not exist or has been removed.\"}\n        </Text>\n        <Button as={Link} to=\"/\" colorScheme=\"red\">\n          Return to Home\n        </Button>\n      </Box>\n    );\n  }\n\n  return (\n    <Box>\n      <Breadcrumb \n        separator={<ChevronRightIcon color=\"gray.500\" />}\n        mb={8}\n      >\n        <BreadcrumbItem>\n          <BreadcrumbLink as={Link} to=\"/\">Home</BreadcrumbLink>\n        </BreadcrumbItem>\n        <BreadcrumbItem>\n          <BreadcrumbLink as={Link} to={`/item/${id}`}>{item.name}</BreadcrumbLink>\n        </BreadcrumbItem>\n        <BreadcrumbItem isCurrentPage>\n          <BreadcrumbLink>Edit</BreadcrumbLink>\n        </BreadcrumbItem>\n      </Breadcrumb>\n      \n      <Heading mb={6}>Edit: {item.name}</Heading>\n      \n      <ItemForm \n        initialValues={item}\n        onSubmit={handleSubmit} \n        submitButtonText=\"Update Product\"\n      />\n    </Box>\n  );\n};\n\nexport default EditItemPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}